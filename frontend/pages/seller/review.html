<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>상품 관리 | PREAM</title>
  <link rel="stylesheet" href="../../dist/style2.css" />
</head>
<body class="min-h-screen bg-gray-50 text-gray-900">
  <!-- Navigation Component Placeholder -->
  <div id="navigation" data-src="/frontend/components/navigation.html"></div>

  <!-- 헤더 -->
  <header class="bg-white border-b border-gray-200">
    <div class="container mx-auto px-4 py-4 max-w-6xl">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <button onclick="goBack()" class="text-gray-600 hover:text-gray-900">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <h1 class="text-2xl font-bold">리뷰 관리</h1>
        </div>
        <div class="text-sm text-gray-600">
          총 <span class="font-bold text-gray-900" id="total-reviews">28</span>개의 리뷰
        </div>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 py-6 max-w-6xl">
    <!-- 필터 및 정렬 -->
    <section class="bg-white rounded-lg shadow mb-6 p-4">
      <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
        <div class="flex gap-2 w-full md:w-auto">
          <button class="review-filter-btn active" data-filter="all">
            전체 <span class="count">28</span>
          </button>
          <button class="review-filter-btn" data-filter="5">
            ⭐ 5점 <span class="count">15</span>
          </button>
          <button class="review-filter-btn" data-filter="4">
            ⭐ 4점 <span class="count">8</span>
          </button>
          <button class="review-filter-btn" data-filter="3">
            ⭐ 3점 <span class="count">3</span>
          </button>
          <button class="review-filter-btn" data-filter="2">
            ⭐ 2점 <span class="count">1</span>
          </button>
          <button class="review-filter-btn" data-filter="1">
            ⭐ 1점 <span class="count">1</span>
          </button>
        </div>
        <select id="sort-select" class="px-4 py-2 border border-gray-300 rounded-lg text-sm">
          <option value="latest">최신순</option>
          <option value="oldest">오래된순</option>
          <option value="rating-high">평점 높은순</option>
          <option value="rating-low">평점 낮은순</option>
        </select>
      </div>
    </section>

    <!-- 평점 통계 -->
    <section class="bg-white rounded-lg shadow mb-6 p-6">
      <h3 class="text-lg font-bold mb-4">평점 통계</h3>
      <div class="flex items-center gap-6">
        <div class="text-center">
          <p class="text-4xl font-bold mb-1">4.7</p>
          <div class="text-yellow-400 text-lg mb-1">★★★★★</div>
          <p class="text-xs text-gray-500">평균 평점</p>
        </div>
        <div class="flex-1">
          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <span class="text-sm text-gray-600 w-12">5점</span>
              <div class="flex-1 bg-gray-200 rounded-full h-2">
                <div class="bg-yellow-400 h-2 rounded-full" style="width: 53%"></div>
              </div>
              <span class="text-sm font-medium w-8 text-right">15</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-sm text-gray-600 w-12">4점</span>
              <div class="flex-1 bg-gray-200 rounded-full h-2">
                <div class="bg-yellow-400 h-2 rounded-full" style="width: 29%"></div>
              </div>
              <span class="text-sm font-medium w-8 text-right">8</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-sm text-gray-600 w-12">3점</span>
              <div class="flex-1 bg-gray-200 rounded-full h-2">
                <div class="bg-yellow-400 h-2 rounded-full" style="width: 11%"></div>
              </div>
              <span class="text-sm font-medium w-8 text-right">3</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-sm text-gray-600 w-12">2점</span>
              <div class="flex-1 bg-gray-200 rounded-full h-2">
                <div class="bg-yellow-400 h-2 rounded-full" style="width: 4%"></div>
              </div>
              <span class="text-sm font-medium w-8 text-right">1</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-sm text-gray-600 w-12">1점</span>
              <div class="flex-1 bg-gray-200 rounded-full h-2">
                <div class="bg-red-400 h-2 rounded-full" style="width: 4%"></div>
              </div>
              <span class="text-sm font-medium w-8 text-right">1</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 리뷰 목록 -->
    <section class="space-y-4" id="review-list">
      <!-- 리뷰 카드 1 -->
      <div class="bg-white rounded-lg shadow p-6 review-item" data-rating="5">
        <div class="flex gap-4 mb-4">
          <div class="w-24 h-24 bg-gray-200 rounded-lg flex-shrink-0"></div>
          <div class="flex-1">
            <h4 class="font-bold mb-1">구찌 GG 마몬트 숄더백</h4>
            <p class="text-xs text-gray-500 mb-2">주문번호: ORD-2025-001234</p>
            <div class="flex items-center gap-2 mb-2">
              <div class="text-yellow-400">★★★★★</div>
              <span class="text-sm font-medium">5.0</span>
            </div>
          </div>
        </div>
        
        <div class="border-t border-gray-100 pt-4">
          <div class="flex items-start justify-between mb-3">
            <div>
              <p class="font-medium mb-1">홍길동</p>
              <p class="text-xs text-gray-500">2025.10.20</p>
            </div>
            <button onclick="reportReview(1)" class="text-xs text-gray-500 hover:text-red-500">신고</button>
          </div>
          
          <p class="text-sm text-gray-700 leading-relaxed mb-3">
            정말 만족스러운 구매였습니다. 제품 상태도 너무 좋고 포장도 꼼꼼하게 해주셔서 감사합니다. 
            판매자님이 친절하시고 빠른 배송 감사드려요. 다음에도 이용하겠습니다!
          </p>
          
          <!-- 리뷰 이미지 -->
          <div class="flex gap-2 mb-4">
            <div class="w-20 h-20 bg-gray-200 rounded-lg"></div>
            <div class="w-20 h-20 bg-gray-200 rounded-lg"></div>
            <div class="w-20 h-20 bg-gray-200 rounded-lg"></div>
          </div>
          
          <!-- 판매자 답변 -->
          <div class="bg-gray-50 rounded-lg p-4">
            <div class="flex items-center justify-between mb-2">
              <p class="text-sm font-semibold text-gray-900">판매자 답변</p>
              <button onclick="editReply(1)" class="text-xs text-gray-600 hover:text-gray-900">수정</button>
            </div>
            <p class="text-sm text-gray-700">
              좋은 리뷰 감사합니다. 앞으로도 좋은 제품으로 보답하겠습니다 😊
            </p>
            <p class="text-xs text-gray-500 mt-2">2025.10.20</p>
          </div>
        </div>
      </div>

      <!-- 리뷰 카드 2 (답변 없음) -->
      <div class="bg-white rounded-lg shadow p-6 review-item" data-rating="4">
        <div class="flex gap-4 mb-4">
          <div class="w-24 h-24 bg-gray-200 rounded-lg flex-shrink-0"></div>
          <div class="flex-1">
            <h4 class="font-bold mb-1">샤넬 클래식 플랩백</h4>
            <p class="text-xs text-gray-500 mb-2">주문번호: ORD-2025-001235</p>
            <div class="flex items-center gap-2 mb-2">
              <div class="text-yellow-400">★★★★☆</div>
              <span class="text-sm font-medium">4.0</span>
            </div>
          </div>
        </div>
        
        <div class="border-t border-gray-100 pt-4">
          <div class="flex items-start justify-between mb-3">
            <div>
              <p class="font-medium mb-1">김철수</p>
              <p class="text-xs text-gray-500">2025.10.19</p>
            </div>
            <button onclick="reportReview(2)" class="text-xs text-gray-500 hover:text-red-500">신고</button>
          </div>
          
          <p class="text-sm text-gray-700 leading-relaxed mb-3">
            제품은 좋은데 배송이 조금 늦었어요. 그래도 상태는 만족스럽습니다.
          </p>
          
          <!-- 답변 작성 영역 -->
          <div class="border-t border-gray-200 pt-4">
            <button onclick="openReplyModal(2)" class="w-full py-3 border border-gray-300 rounded-lg text-sm font-medium hover:bg-gray-50 transition">
              답변 작성하기
            </button>
          </div>
        </div>
      </div>

      <!-- 리뷰 카드 3 (낮은 평점) -->
      <div class="bg-white rounded-lg shadow p-6 review-item border-l-4 border-red-500" data-rating="2">
        <div class="flex gap-4 mb-4">
          <div class="w-24 h-24 bg-gray-200 rounded-lg flex-shrink-0"></div>
          <div class="flex-1">
            <h4 class="font-bold mb-1">루이비통 스피디 30</h4>
            <p class="text-xs text-gray-500 mb-2">주문번호: ORD-2025-001236</p>
            <div class="flex items-center gap-2 mb-2">
              <div class="text-yellow-400">★★☆☆☆</div>
              <span class="text-sm font-medium text-red-500">2.0</span>
              <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded">낮은 평점</span>
            </div>
          </div>
        </div>
        
        <div class="border-t border-gray-100 pt-4">
          <div class="flex items-start justify-between mb-3">
            <div>
              <p class="font-medium mb-1">이영희</p>
              <p class="text-xs text-gray-500">2025.10.18</p>
            </div>
            <button onclick="reportReview(3)" class="text-xs text-gray-500 hover:text-red-500">신고</button>
          </div>
          
          <p class="text-sm text-gray-700 leading-relaxed mb-3">
            사진과 실물이 조금 달라요. 생각보다 사용감이 있네요.
          </p>
          
          <!-- 답변 작성 영역 -->
          <div class="border-t border-gray-200 pt-4">
            <button onclick="openReplyModal(3)" class="w-full py-3 bg-red-50 border border-red-200 rounded-lg text-sm font-medium text-red-700 hover:bg-red-100 transition">
              답변이 필요한 리뷰입니다
            </button>
          </div>
        </div>
      </div>

      <!-- 리뷰 카드 4 -->
      <div class="bg-white rounded-lg shadow p-6 review-item" data-rating="5">
        <div class="flex gap-4 mb-4">
          <div class="w-24 h-24 bg-gray-200 rounded-lg flex-shrink-0"></div>
          <div class="flex-1">
            <h4 class="font-bold mb-1">에르메스 버킨백</h4>
            <p class="text-xs text-gray-500 mb-2">주문번호: ORD-2025-001237</p>
            <div class="flex items-center gap-2 mb-2">
              <div class="text-yellow-400">★★★★★</div>
              <span class="text-sm font-medium">5.0</span>
            </div>
          </div>
        </div>
        
        <div class="border-t border-gray-100 pt-4">
          <div class="flex items-start justify-between mb-3">
            <div>
              <p class="font-medium mb-1">박민수</p>
              <p class="text-xs text-gray-500">2025.10.17</p>
            </div>
            <button onclick="reportReview(4)" class="text-xs text-gray-500 hover:text-red-500">신고</button>
          </div>
          
          <p class="text-sm text-gray-700 leading-relaxed mb-3">
            완벽한 상태의 제품입니다. 감정서도 있고 정말 만족스러워요!
          </p>
          
          <!-- 판매자 답변 -->
          <div class="bg-gray-50 rounded-lg p-4">
            <div class="flex items-center justify-between mb-2">
              <p class="text-sm font-semibold text-gray-900">판매자 답변</p>
              <button onclick="editReply(4)" class="text-xs text-gray-600 hover:text-gray-900">수정</button>
            </div>
            <p class="text-sm text-gray-700">
              만족하셨다니 기쁩니다. 감사합니다!
            </p>
            <p class="text-xs text-gray-500 mt-2">2025.10.17</p>
          </div>
        </div>
      </div>
    </section>

    <!-- 더보기 버튼 -->
    <div class="text-center mt-8 mb-6">
      <button onclick="loadMoreReviews()" class="px-6 py-3 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition">
        더보기
      </button>
    </div>
  </main>

  <!-- 답변 작성 모달 -->
  <div id="reply-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">답변 작성</h3>
        <span class="modal-close" onclick="closeReplyModal()">&times;</span>
      </div>
      <div class="modal-body">
        <textarea id="reply-text" class="w-full p-4 border border-gray-300 rounded-lg resize-none" rows="5" placeholder="고객에게 정중하고 친절한 답변을 작성해주세요."></textarea>
        <p class="text-xs text-gray-500 mt-2">
          💡 Tip: 긍정적인 리뷰에는 감사 인사를, 부정적인 리뷰에는 개선 의지를 표현하세요.
        </p>
      </div>
      <div class="modal-footer">
        <button onclick="submitReply()" class="modal-submit bg-black hover:bg-gray-800 text-white">
          답변 등록
        </button>
      </div>
    </div>
  </div>

  <script src="../../js/seller/review.js"></script>
</body>
</html>